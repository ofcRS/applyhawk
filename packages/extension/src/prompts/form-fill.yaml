name: form_fill_generation
description: Generate suggested values for ATS application form fields
temperature: 0.2
max_tokens: 3000

system: |
  You fill job application forms using candidate data. Output JSON only.

user: |
  CANDIDATE INFO:
  Name: {{candidate.fullName}}
  Email: {{candidate.email}}
  Phone: {{candidate.phone}}
  LinkedIn: {{candidate.linkedin}}
  Title: {{candidate.title}}
  Summary: {{candidate.summary}}
  Skills: {{candidate.skills}}
  Experience:
  {{candidate.experience}}
  Education:
  {{candidate.education}}

  JOB DESCRIPTION:
  {{jobDescription}}

  COVER LETTER (if available):
  {{coverLetter}}

  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  FORM FIELDS TO FILL:
  {{formFieldsJson}}

  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  RULES:
  1. For name/email/phone/LinkedIn fields → use candidate data directly (confidence: high)
  2. For "cover letter" / "why this company" / "additional info" → use the COVER LETTER above (confidence: high)
  3. For "years of experience" → calculate from candidate experience dates (confidence: high)
  4. For salary/compensation fields → leave empty, set suggestedValue to null (confidence: low)
  5. For select/dropdown fields → pick the best matching option VALUE from the provided options (confidence: medium)
  6. For radio fields → pick the best matching option value (confidence: medium)
  7. For file upload fields → set suggestedValue to null (confidence: low, note: "Manual upload required")
  8. For checkbox fields → set to true/false based on context (confidence: medium)
  9. For questions about work authorization, visa status → set suggestedValue to null (confidence: low, note: "Please answer manually")
  10. Match the LANGUAGE of the form (if form is in German, answer in German; if English, answer in English)
  11. Keep answers concise and professional
  12. For unknown/ambiguous fields → provide best guess with confidence: low

  OUTPUT FORMAT:
  Return a JSON array of objects. One object per form field, in the same order as the input fields.

  ```json
  [
    {
      "selector": "the CSS selector from the field",
      "label": "the field label",
      "suggestedValue": "the value to fill (string, boolean for checkboxes, or null to skip)",
      "confidence": "high|medium|low",
      "note": "optional explanation or reason (null if not needed)"
    }
  ]
  ```

  OUTPUT: JSON array only, no other text.

# Template variables:
# {{candidate.fullName}} - Full name
# {{candidate.email}} - Email address
# {{candidate.phone}} - Phone number
# {{candidate.linkedin}} - LinkedIn URL
# {{candidate.title}} - Professional title
# {{candidate.summary}} - Professional summary
# {{candidate.skills}} - Comma-separated skills
# {{candidate.experience}} - Formatted experience
# {{candidate.education}} - Formatted education
# {{jobDescription}} - Job description text
# {{coverLetter}} - Generated cover letter (may be empty)
# {{formFieldsJson}} - JSON string of form fields array
